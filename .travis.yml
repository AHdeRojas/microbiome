language: r
sudo: true
cache: packages

warnings_are_errors: false

r_packages:
  - Cairo
  - GGally
  - ggrepel
  - intergraph
  - magrittr
  - network
  - rmarkdown
  - survival

bioc_packages:
  - BiocInstaller
  - limma

r_github_packages:
  - cran/RUnit
  - ropengov/sorvi
  - microbiome/microbiome  
  - microbiome/HITChipDB
  - zdk123/SpiecEasi
  - briatte/ggnet
  - earlywarningtoolbox/earlywarnings-R/earlywarnings

env:
   global:
     - WARNINGS_ARE_ERRORS=1
     - R_BUILD_ARGS="--no-manual"
     - R_CHECK_ARGS="--no-manual --as-cran"
     - secure: "Irz3T42O7PU1mzxa2SiwFKzAJVhlWiNi/552B1k4lEKO8dGTObfAGzk0fLVaCfF7WMbdlWtfPiMXuoFabsdFG7njj0+ZWhw7RKRmA06OvFzeKQ0X1hWAsQ867Ja41If0zWbPCz6EUFU/4Mp8xKmj+1tBp4bzxA9IO6aZp9WuvFo="

before_install:
  - pip install --user codecov
  - chmod 755 ./.push_gh_pages.sh
  - sudo apt-get install -y tcl tk tk-dev

after_success:	
  - bash <(curl -s https://codecov.io/bash)
  - ./.push_gh_pages.sh

