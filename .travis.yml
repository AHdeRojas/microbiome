language: r
sudo: true
cache: packages

warnings_are_errors: false

r_packages:
  - Cairo
  - GGally
  - ggrepel
  - intergraph
  - magrittr
  - network
  - rmarkdown
  - survival

bioc_packages:
  - BiocInstaller
  - limma

r_github_packages:
  - cran/RUnit
  - ropengov/sorvi
  - microbiome/microbiome  
  - microbiome/HITChipDB
  - zdk123/SpiecEasi
  - briatte/ggnet
  - earlywarningtoolbox/earlywarnings-R/earlywarnings

env:
   global:
     - WARNINGS_ARE_ERRORS=1
     - R_BUILD_ARGS="--no-manual"
     - R_CHECK_ARGS="--no-manual --as-cran"
     - secure: "XpIG+tvtIxZLmB3n/ohm8GvBd+kdeqjvxokB+zayIONWTdkyYtur6/SwUgd9NMtFE1QFjWUv3VSphuSanr1kbA7x02p5QH1P5/PGo8xHesQP1aINSPWFB9n0oC7JudX/EwxCqaWeLlWJLPELZHar6ZlKXOkBqzF96l2h+XW8RVM="     

before_install:
  - pip install --user codecov
  - chmod 755 ./.push_gh_pages.sh
  - sudo apt-get install -y tcl tk tk-dev

after_success:	
  - bash <(curl -s https://codecov.io/bash)
  - ./.push_gh_pages.sh

