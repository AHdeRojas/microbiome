
### Cross-correlation example

```{r heatmap}
# Load example data
library(microbiome)
data(peerj32)

# Define data sets to cross-correlate
dat1 <- peerj32$lipids # Lipids (44 samples x 389 lipids)
dat2 <- peerj32$microbes # Microbiota (44 samples x 130 bacteria)

# Calculate cross-correlations
correlations <- cross.correlate(dat1, dat2, 
                        method = "bicor", 
			mode = "matrix", 
                        n.signif = 1, 
			p.adj.threshold = 0.05, 
                        p.adj.method = "BH")

# Convert correlations to a table
correlation.table <- cmat2table(correlations)
head(correlation.table)
```


